<div class="accordion">
  <div class="accordion-item" *ngFor="let item of items; index as i">
    <div
      class="accordion-item--title"
      [ngClass]="{ active: selected === i }"
      (click)="itemSelected(i)"
    >
      <ng-container
        [ngTemplateOutlet]="itemLabelRef"
        [ngTemplateOutletContext]="{ $implicit: item, index: i }"
      >
      </ng-container>
    </div>
    <div
      class="accordion-item--container"
      [@contentExpansion]="selected === i ? 'expanded' : 'collapsed'"
    >
      <ng-container
        [ngTemplateOutlet]="accordionTemplateItemRef"
        [ngTemplateOutletContext]="{ $implicit: item, index: i }"
      >
      </ng-container>
    </div>
  </div>
</div>
